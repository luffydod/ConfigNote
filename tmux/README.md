# 👿 tmux 配置与使用上手指南

tmux 的结构分三层：

```bash
会话 (session) → 窗口 (window) → 面板 (pane)
```

- 会话：独立的 tmux 运行环境，可以包含多个窗口。
- 窗口：类似于终端标签页。
- 面板：窗口内部的分屏。

## 😓 install on linux

```bash
sudo apt install tmux
```

## 😅 会话管理

| 操作     | 命令（在 shell 中执行）               | 说明                  |
| ------ | ----------------------------- | ------------------- |
| 创建新会话  | `tmux new -s <name>`          | 创建一个名为 `<name>` 的会话 |
| 列出所有会话 | `tmux ls`                     | 查看当前所有会话            |
| 连接到会话  | `tmux attach -t <name>`       | 重新进入一个已存在的会话        |
| 断开会话   | `Ctrl+b d`                    | 从当前会话中安全断开（后台运行）    |
| 杀死会话   | `tmux kill-session -t <name>` | 关闭指定会话              |
| 杀死所有会话 | `tmux kill-server`            | 关闭所有会话              |
| 重命名会话  | `Ctrl+b $`                    | 修改当前会话名             |
| 切换会话   | `Ctrl+b s`                    | 选择并切换到其他会话（进入选择列表）  |

## 🥵 窗口管理

| 操作       | 快捷键           | 说明          |
| -------- | ------------- | ----------- |
| 新建窗口     | `Ctrl+b c`    | 创建一个新窗口     |
| 切换到下一个窗口 | `Ctrl+b n`    | 下一个窗口       |
| 切换到上一个窗口 | `Ctrl+b p`    | 上一个窗口       |
| 按编号切换窗口  | `Ctrl+b <数字>` | 直接跳转到窗口编号   |
| 重命名窗口    | `Ctrl+b ,`    | 修改当前窗口名称    |
| 关闭窗口     | `Ctrl+b &`    | 关闭当前窗口      |
| 列出所有窗口   | `Ctrl+b w`    | 显示窗口列表并选择切换 |

## 😘 面板管理

| 操作        | 快捷键                      | 说明                                        |
| --------- | ------------------------ | ----------------------------------------- |
| 水平分割      | `Ctrl+b "`               | 将当前面板水平分割（上下）                             |
| 垂直分割      | `Ctrl+b %`               | 将当前面板垂直分割（左右）                             |
| 切换面板      | `Ctrl+b 方向键`             | 在不同面板间切换                                  |
| 关闭面板      | `Ctrl+b x`               | 关闭当前面板                                    |
| 调整面板大小    | `Ctrl+b` 然后按 `Alt + 方向键` | 调整当前面板大小（部分系统可能是 `Ctrl+b` + `Ctrl + 方向键`） |
| 交换面板      | `Ctrl+b {` / `Ctrl+b }`  | 与上/下一个面板互换位置                              |
| 将面板独立成新窗口 | `Ctrl+b !`               | 把当前面板移到新窗口                                |
| 显示面板编号    | `Ctrl+b q`               | 显示面板编号并快速切换                               |
| 全屏当前面板    | `Ctrl+b z`               | 当前面板放大/恢复原状                               |

## 😯 复制与滚动模式

| 操作     | 快捷键          | 说明           |
| ------ | ------------ | ------------ |
| 进入复制模式 | `Ctrl+b [`   | 进入滚动/复制模式    |
| 向上滚动   | `↑` 或 `PgUp` | 查看历史输出       |
| 开始选择文本 | `Space`      | 开始选择文本       |
| 复制选中内容 | `Enter`      | 复制到 tmux 缓冲区 |
| 粘贴复制内容 | `Ctrl+b ]`   | 粘贴           |

如果你想使用鼠标滚动、点击切换面板，可以在 ~/.tmux.conf 中添加：

```bash
set -g mouse on
```

然后重载配置：

```bash
tmux source-file ~/.tmux.conf
```

## ☠️ 其他实用命令

| 操作       | 快捷键 / 命令                           | 说明            |
| -------- | ---------------------------------- | ------------- |
| 查看所有快捷键  | `Ctrl+b ?`                         | 显示 tmux 快捷键帮助 |
| 重新加载配置文件 | `Ctrl+b :source-file ~/.tmux.conf` | 重载配置          |
| 查看当前状态   | `Ctrl+b :list-keys` 或 `tmux info`  | 查看状态信息        |
| 退出 tmux  | 在每个面板/窗口中 `exit`，或关闭会话             | 完全退出          |

[😧 自定义配置](./.tmux.conf)
